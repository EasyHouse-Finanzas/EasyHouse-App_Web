<nav
  class="fixed flex h-screen flex-col bg-[#1D1C22] text-white transition-all duration-300 ease-in-out z-50 shadow-xl"
  [class.w-80]="isOpen"
  [class.w-24]="!isOpen">

  <div class="flex flex-col items-center bg-[#2A2D3E] p-6 text-center border-b border-gray-800">
    <img src="assets/logo.png" alt="EasyHouse Logo"
         class="mx-auto transition-all duration-300"
         [class.h-20]="isOpen" [class.w-20]="isOpen"
         [class.h-12]="!isOpen" [class.w-12]="!isOpen">
    <div [class.hidden]="!isOpen" class="transition-opacity duration-200 mt-3">
      <h1 class="text-2xl font-bold tracking-tight">
        <span>Easy</span><span class="text-[#1F8DE9]">House</span>
      </h1>
      <p class="text-xs text-gray-400 mt-1 uppercase tracking-wider font-medium">
        Simulador Financiero
      </p>
    </div>
  </div>

  <div class="flex-grow p-4 overflow-y-auto custom-scrollbar" [class.p-2]="!isOpen">
    <ul class="space-y-2">
      @for (link of navLinks; track link.path) {
        <li>
          <a [routerLink]="link.path"
             routerLinkActive="bg-[#1F8DE9] text-white shadow-lg shadow-blue-900/50"
             [routerLinkActiveOptions]="{exact: false}"
             class="flex w-full items-center rounded-xl px-4 py-3.5 text-base font-medium text-gray-300 hover:bg-[#333645] hover:text-white transition-all duration-200 group"
             [class.justify-start]="isOpen"
             [class.justify-center]="!isOpen"
             [title]="!isOpen ? link.label : null">

            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0 transition-transform duration-200 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="link.iconPath" />
            </svg>

            <span class="ml-3 whitespace-nowrap transition-opacity duration-200" [class.hidden]="!isOpen">
              {{ link.label }}
            </span>
          </a>
        </li>
      }
    </ul>
  </div>

  <div class="p-8 bg-[#18181b] border-t border-gray-800">
    <div class="flex items-center gap-3" [class.justify-center]="!isOpen" [class.justify-between]="isOpen">

      <div class="flex items-center gap-3 overflow-hidden">
        <div class="h-10 w-10 min-w-[2.5rem] rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-md border-2 border-[#1D1C22]">
          {{ userDisplay().initials }}
        </div>
        <div [class.hidden]="!isOpen" class="flex flex-col min-w-0">
          <span class="text-sm font-semibold text-white truncate">{{ userDisplay().name }}</span>
          <span class="text-xs text-green-400 font-medium">En línea</span>
        </div>
      </div>

      <button (click)="logout()"
              class="text-gray-400 hover:text-red-400 transition-colors p-2 rounded-lg hover:bg-gray-800"
              [title]="isOpen ? 'Cerrar Sesión' : ''"
              [class.hidden]="!isOpen">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
        </svg>
      </button>
    </div>
  </div>
</nav>
