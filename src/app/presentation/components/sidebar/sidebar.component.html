<nav
  class="fixed flex h-screen flex-col bg-[#1D1C22] text-white transition-all duration-300 ease-in-out z-50 shadow-xl"
  [class.w-80]="isOpen"
  [class.w-24]="!isOpen">

  <div class="flex flex-col items-center bg-[#2A2D3E] p-6 text-center border-b border-gray-800">
    <img src="assets/logo.png" alt="EasyHouse Logo"
         class="mx-auto transition-all duration-300"
         [class.h-20]="isOpen" [class.w-20]="isOpen"
         [class.h-12]="!isOpen" [class.w-12]="!isOpen">
    <div [class.hidden]="!isOpen" class="transition-opacity duration-200 mt-3">
      <h1 class="text-2xl font-bold tracking-tight">
        <span>Easy</span><span class="text-[#1F8DE9]">House</span>
      </h1>
      <p class="text-xs text-gray-400 mt-1 uppercase tracking-wider font-medium">
        Simulador Financiero
      </p>
    </div>
  </div>

  <div class="flex-grow p-4 overflow-y-auto custom-scrollbar" [class.p-2]="!isOpen">
    <ul class="space-y-2">
      @for (link of navLinks; track link.path) {
        <li>
          <a [routerLink]="link.path"
             routerLinkActive="bg-[#1F8DE9] text-white shadow-lg shadow-blue-900/50"
             [routerLinkActiveOptions]="{exact: false}"
             class="flex w-full items-center rounded-xl px-4 py-3.5 text-base font-medium text-gray-300 hover:bg-[#333645] hover:text-white transition-all duration-200 group"
             [class.justify-start]="isOpen"
             [class.justify-center]="!isOpen"
             [title]="!isOpen ? link.label : null">

            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 flex-shrink-0 transition-transform duration-200 group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="link.iconPath" />
            </svg>

            <span class="ml-3 whitespace-nowrap transition-opacity duration-200" [class.hidden]="!isOpen">
              {{ link.label }}
            </span>
          </a>
        </li>
      }
    </ul>
  </div>

  <div class="border-t border-gray-800 bg-[#16161a]" [class.p-4]="isOpen" [class.p-2]="!isOpen">

    <div class="flex items-center transition-all duration-300 rounded-xl group relative"
         [class.bg-white-alpha]="isOpen"
         [class.p-3]="isOpen"
         [class.bg-white-5]="isOpen"
         [class.justify-center]="!isOpen"
         [class.py-4]="!isOpen"
         [ngClass]="{'bg-white/5 hover:bg-white/10': isOpen}">

      <div class="relative flex-shrink-0">
        <div class="h-10 w-10 rounded-full bg-gradient-to-tr from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold text-sm shadow-lg ring-2 ring-[#2A2D3E] group-hover:ring-[#1F8DE9] transition-all">
          {{ userDisplay().initials }}
        </div>
        <span class="absolute bottom-0 right-0 block h-3 w-3 rounded-full bg-emerald-500 ring-2 ring-[#16161a]"></span>
      </div>

      <div [class.hidden]="!isOpen" class="ml-3 flex-grow overflow-hidden transition-all duration-300">
        <p class="text-sm font-bold text-white truncate leading-tight">
          {{ userDisplay().name }}
        </p>
        <p class="text-[11px] text-gray-400 truncate mt-0.5">
          Agente Inmobiliario
        </p>
      </div>

      <div [class.hidden]="!isOpen" class="ml-auto pl-2 border-l border-gray-700/50">
        <button (click)="logout()"
                class="p-2 text-gray-400 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all duration-200 group-hover/btn:scale-105"
                title="Cerrar SesiÃ³n">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
          </svg>
        </button>
      </div>

    </div>
  </div>

</nav>
