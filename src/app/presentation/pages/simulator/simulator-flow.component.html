<div class="space-y-8 font-sans animate-fade-in pb-12">

  <div>
    <h2 class="text-2xl font-bold text-gray-800">Simulador de Crédito</h2>
    <p class="text-gray-500">Configura, calcula y analiza la viabilidad del crédito hipotecario.</p>
  </div>

  <div class="w-full px-4 mb-8">
    <div class="flex items-center justify-between relative max-w-4xl mx-auto">
      <div class="absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-gray-200 -z-10 rounded-full"></div>

      <div class="flex flex-col items-center bg-gray-50 px-2">
        <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors duration-300 border-2"
             [ngClass]="{'bg-[#1F8DE9] text-white border-[#1F8DE9]': currentStep >= 1, 'bg-white text-gray-400 border-gray-300': currentStep < 1}">
          1
        </div>
        <span class="text-xs font-medium mt-1 text-gray-600">Configuración</span>
      </div>

      <div class="flex flex-col items-center bg-gray-50 px-2">
        <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors duration-300 border-2"
             [ngClass]="{'bg-[#1F8DE9] text-white border-[#1F8DE9]': currentStep >= 2, 'bg-white text-gray-400 border-gray-300': currentStep < 2}">
          2
        </div>
        <span class="text-xs font-medium mt-1 text-gray-600">Simular</span>
      </div>

      <div class="flex flex-col items-center bg-gray-50 px-2">
        <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors duration-300 border-2"
             [ngClass]="{'bg-[#1F8DE9] text-white border-[#1F8DE9]': currentStep >= 3, 'bg-white text-gray-400 border-gray-300': currentStep < 3}">
          3
        </div>
        <span class="text-xs font-medium mt-1 text-gray-600">Cronograma</span>
      </div>

      <div class="flex flex-col items-center bg-gray-50 px-2">
        <div class="w-10 h-10 rounded-full flex items-center justify-center font-bold transition-colors duration-300 border-2"
             [ngClass]="{'bg-[#1F8DE9] text-white border-[#1F8DE9]': currentStep >= 4, 'bg-white text-gray-400 border-gray-300': currentStep < 4}">
          4
        </div>
        <span class="text-xs font-medium mt-1 text-gray-600">Reporte</span>
      </div>
    </div>
  </div>

  <div *ngIf="currentStep === 1" class="bg-white rounded-xl shadow-sm border border-gray-200 p-6 animate-fade-in max-w-5xl mx-auto">
    <form [formGroup]="configForm" (ngSubmit)="goToSimulator()" class="space-y-6">

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Cliente (Titular)</label>
          <select formControlName="clienteId"
                  class="w-full border-gray-300 rounded-lg p-2.5 bg-white focus:ring-[#1F8DE9] focus:border-[#1F8DE9] outline-none transition-all cursor-pointer">
            <option value="" disabled>Seleccione un cliente</option>
            <option *ngFor="let c of clients" [value]="c.clientId">
              {{c.firstName}} {{c.lastName}} ({{c.documentNumber}})
            </option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Unidad Inmobiliaria</label>
          <select formControlName="viviendaId" class="w-full border-gray-300 rounded-lg p-2.5 bg-white focus:ring-[#1F8DE9]">
            <option value="" disabled>Seleccione un inmueble</option>
            <option *ngFor="let h of houses" [value]="h.houseId">
              {{h.project}} - {{h.propertyCode}}
            </option>
          </select>
        </div>
      </div>

      <div class="border-t border-gray-100 my-2"></div>

      <h3 class="text-lg font-bold text-gray-800 flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        Datos Financieros
      </h3>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <label class="block text-sm text-gray-600 mb-1 font-medium">Moneda</label>
          <select formControlName="moneda" class="w-full border-gray-300 rounded-lg p-2.5 bg-white">
            <option value="PEN">Soles (S/)</option>
            <option value="USD">Dólares ($)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm text-gray-600 mb-1 font-medium">Tipo de Tasa</label>
          <select formControlName="tipoTasa" class="w-full border-gray-300 rounded-lg p-2.5 bg-white">
            <option value="Efectiva">Efectiva (TEA)</option>
            <option value="Nominal">Nominal (TNA)</option>
          </select>
        </div>

        <div class="flex gap-2">
          <div class="flex-1">
            <label class="block text-sm text-gray-600 mb-1 font-medium">Tasa Anual (%)</label>
            <div class="relative">
              <input type="number" formControlName="tasaValor" class="w-full border-gray-300 rounded-lg p-2.5 pr-8" placeholder="Ej. 14.5">
              <span class="absolute right-3 top-2.5 text-gray-400 font-bold text-sm">%</span>
            </div>
          </div>

          <div *ngIf="configForm.get('tipoTasa')?.value === 'Nominal'" class="flex-1 animate-fade-in">
            <label class="block text-sm text-gray-600 mb-1 font-medium">Capitalización</label>
            <select formControlName="capitalizacion" class="w-full border-gray-300 rounded-lg p-2.5 bg-white">
              <option value="Diaria">Diaria</option>
              <option value="Mensual">Mensual</option>
            </select>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 bg-blue-50 p-5 rounded-xl border border-blue-100">
        <div>
          <label class="block text-sm font-bold text-blue-800 mb-1">Tipo de Gracia</label>
          <select formControlName="periodoGracia" class="w-full border-blue-200 rounded-lg text-sm p-2.5 bg-white text-blue-900">
            <option value="Ninguno">Ninguno</option>
            <option value="Parcial">Parcial (Paga Intereses)</option>
            <option value="Total">Total (Capitaliza)</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-bold text-blue-800 mb-1">Meses de Gracia</label>
          <input type="number" formControlName="mesesGracia" class="w-full border-blue-200 rounded-lg text-sm p-2.5 text-blue-900">
        </div>
        <div>
          <label class="block text-sm font-bold text-blue-800 mb-1">Bono Techo Propio</label>
          <div class="relative">
            <span class="absolute left-3 top-2.5 text-blue-400 text-xs font-bold">S/</span>
            <input type="number" formControlName="bonoTechoPropio" class="w-full border-blue-200 rounded-lg text-sm p-2.5 pl-8 text-blue-900" placeholder="0.00">
          </div>
        </div>
      </div>

      <details class="group bg-gray-50 rounded-lg border border-gray-200 overflow-hidden">
        <summary class="flex justify-between items-center p-4 cursor-pointer font-semibold text-sm text-gray-700 hover:bg-gray-100 transition">
          <span>Configuración Avanzada (Costos, Seguros y Portes)</span>
          <span class="transform group-open:rotate-180 transition-transform duration-200">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </span>
        </summary>
        <div class="p-5 border-t border-gray-200 grid grid-cols-2 md:grid-cols-3 gap-5 text-sm">
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Comisión Desembolso</label>
            <input formControlName="comisionDesembolso" type="number" class="w-full border-gray-300 rounded p-2">
          </div>
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Portes Mensuales</label>
            <input formControlName="portesMensuales" type="number" class="w-full border-gray-300 rounded p-2">
          </div>
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Mantenimiento</label>
            <input formControlName="mantenimientoMensual" type="number" class="w-full border-gray-300 rounded p-2">
          </div>
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Seg. Desgravamen (%)</label>
            <input formControlName="seguroDesgravamen" type="number" class="w-full border-gray-300 rounded p-2" step="0.0001">
          </div>
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Seg. Riesgo (%)</label>
            <input formControlName="seguroRiesgo" type="number" class="w-full border-gray-300 rounded p-2" step="0.0001">
          </div>
          <div>
            <label class="block text-gray-600 mb-1 font-medium">Tasa Descuento (COK %)</label>
            <input formControlName="annualDiscountRate" type="number" class="w-full border-gray-300 rounded p-2" step="0.0001">
          </div>
        </div>
      </details>

      <div class="flex justify-end pt-4">
        <button type="submit" class="bg-[#1F8DE9] hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-lg shadow-md flex items-center gap-2 transition-transform hover:-translate-y-0.5">
          Siguiente Paso
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"/>
          </svg>
        </button>
      </div>
    </form>
  </div>

  <div *ngIf="currentStep === 2" class="flex flex-col lg:flex-row gap-8 animate-fade-in max-w-6xl mx-auto">

    <div class="lg:w-1/3 space-y-4">
      <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
        <h3 class="text-lg font-bold text-gray-800 mb-4 border-b pb-2">Contexto del Préstamo</h3>

        <div class="mb-6 p-4 bg-gray-50 rounded-lg border border-gray-100 flex flex-col gap-1">
          <span class="text-xs text-gray-500 uppercase tracking-wide">Valor del Inmueble</span>
          <span class="text-2xl font-bold text-gray-900" *ngIf="selectedHouse">
  {{ configForm.get('moneda')?.value === 'USD' ? '$' : 'S/' }}
            {{ selectedHouse.price | number:'1.2-2' }}
</span>
        </div>

        <form [formGroup]="simulationForm" (ngSubmit)="runSimulation()" class="space-y-5">
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Cuota Inicial</label>
            <input formControlName="cuotaInicial" type="number" class="w-full border-gray-300 rounded-lg p-2.5 focus:ring-[#1F8DE9]">
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Plazo Total (Meses)</label>
            <input formControlName="plazoMeses" type="number" class="w-full border-gray-300 rounded-lg p-2.5 focus:ring-[#1F8DE9]">
            <p class="text-xs text-gray-400 mt-1">Ej: 120 meses = 10 años</p>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Fecha Inicio</label>
            <input formControlName="fechaInicio" type="date" class="w-full border-gray-300 rounded-lg p-2.5 focus:ring-[#1F8DE9]">
          </div>

          <button type="submit" class="w-full bg-[#1F8DE9] hover:bg-blue-600 text-white font-bold py-3 rounded-lg shadow-md mt-4 flex justify-center items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed"
                  [disabled]="isLoadingSimulation">
            <span *ngIf="isLoadingSimulation">Calculando...</span>
            <span *ngIf="!isLoadingSimulation">Simular Crédito</span>
            <svg *ngIf="!isLoadingSimulation" xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z" />
            </svg>
          </button>
        </form>

        <button (click)="goBack()" class="w-full text-gray-500 hover:text-gray-800 text-sm mt-6 font-medium flex justify-center items-center gap-1 transition-colors">
          &larr; Volver a Configuración
        </button>
      </div>
    </div>

    <div class="lg:w-2/3">
      <div *ngIf="!simulationResult" class="bg-white h-full rounded-xl border-2 border-dashed border-gray-300 flex flex-col items-center justify-center text-gray-400 p-12 min-h-[400px]">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4 text-gray-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2m3 2v-4m3 4v-6m2 10H5a2 2 0 01-2-2V7a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
        </svg>
        <p class="font-medium">Ingresa los datos del contexto y presiona "Simular"</p>
      </div>

      <div *ngIf="simulationResult" class="space-y-6 animate-fade-in">

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white p-6 rounded-xl border-l-4 border-[#1F8DE9] shadow-sm">
            <p class="text-xs text-gray-500 uppercase tracking-wider font-bold mb-1">Cuota Fija (Ref)</p>
            <p class="text-4xl font-bold text-[#1F8DE9]">S/ {{ simulationResult.fixedQuota | number:'1.2-2' }}</p>
          </div>
          <div class="bg-white p-6 rounded-xl border-l-4 border-green-500 shadow-sm">
            <p class="text-xs text-gray-500 uppercase tracking-wider font-bold mb-1">TCEA Calculada</p>
            <p class="text-4xl font-bold text-green-600">{{ simulationResult.tcea }} %</p>
          </div>
        </div>

        <div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
          <h4 class="text-md font-bold text-gray-800 mb-6 flex items-center gap-2 pb-4 border-b border-gray-100">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            Indicadores de Transparencia
          </h4>

          <div class="grid grid-cols-2 md:grid-cols-3 gap-y-6 gap-x-4 text-sm">
            <div>
              <p class="text-gray-500 mb-1">Monto del Préstamo</p>
              <p class="font-bold text-gray-900 text-lg">{{ simulationResult.loanAmount | number:'1.2-2' }}</p>
            </div>
            <div>
              <p class="text-gray-500 mb-1">Total Intereses</p>
              <p class="font-bold text-red-500 text-lg">{{ simulationResult.totalIntereses | number:'1.2-2' }}</p>
            </div>
            <div>
              <p class="text-gray-500 mb-1">Seguros y Gastos</p>
              <p class="font-bold text-gray-900 text-lg">{{ simulationResult.gastosAdministrativos | number:'1.2-2' }}</p>
            </div>
            <div>
              <p class="text-gray-500 mb-1">VAN (Valor Actual Neto)</p>
              <p class="font-mono text-gray-700">{{ simulationResult.van | number:'1.2-2' }}</p>
            </div>
            <div>
              <p class="text-gray-500 mb-1">TIR (Tasa Interna Retorno)</p>
              <p class="font-mono text-gray-700">{{ simulationResult.tir }} %</p>
            </div>

            <div class="col-span-2 md:col-span-3 mt-2 bg-gray-50 p-3 rounded-lg flex justify-between items-center">
              <p class="font-bold text-gray-600">Costo Total del Crédito</p>
              <p class="text-xl font-bold text-gray-900">S/ {{ simulationResult.costoTotalCredito | number:'1.2-2' }}</p>
            </div>
          </div>
        </div>

        <button (click)="goToSchedule()" class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-4 rounded-xl shadow-lg transition-all transform hover:-translate-y-1 flex justify-center items-center gap-2">
          Ver Cronograma de Pagos
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <div *ngIf="currentStep === 3" class="bg-white rounded-xl shadow-sm border border-gray-200 flex flex-col h-[650px] animate-fade-in max-w-6xl mx-auto">
    <div class="p-5 border-b border-gray-200 flex justify-between items-center bg-gray-50 rounded-t-xl">
      <div>
        <h3 class="font-bold text-gray-800 text-lg">Cronograma de Pagos Detallado</h3>
        <p class="text-xs text-gray-500">Método Francés</p>
      </div>
      <div class="flex gap-3">
        <button (click)="currentStep = 2" class="text-gray-600 text-sm font-medium hover:text-black px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition">Volver</button>
        <button (click)="goToReport()" class="bg-[#1F8DE9] text-white px-5 py-2 rounded-lg text-sm font-bold hover:bg-blue-600 shadow-sm transition flex items-center gap-2">
          Finalizar y Reportar
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
          </svg>
        </button>
      </div>
    </div>

    <div class="overflow-auto flex-grow">
      <table class="w-full text-sm text-left text-gray-600">
        <thead class="bg-gray-100 text-gray-700 font-bold sticky top-0 z-10 shadow-sm">
        <tr>
          <th class="px-6 py-4 text-center whitespace-nowrap">N°</th>
          <th class="px-6 py-4 whitespace-nowrap">Vencimiento</th>
          <th class="px-6 py-4 text-right whitespace-nowrap">Cuota Total</th>
          <th class="px-6 py-4 text-right whitespace-nowrap">Interés</th>
          <th class="px-6 py-4 text-right whitespace-nowrap">Amortización</th>
          <th class="px-6 py-4 text-right whitespace-nowrap">Seguros y Gastos</th>
          <th class="px-6 py-4 text-right whitespace-nowrap">Saldo Final</th>
        </tr>
        </thead>
        <tbody class="divide-y divide-gray-100">
        <tr *ngFor="let row of simulationResult?.cronograma" class="hover:bg-gray-50 transition-colors group">
          <td class="px-6 py-3 text-center font-medium text-gray-400 group-hover:text-gray-800">{{ row.period }}</td>
          <td class="px-6 py-3 font-medium">{{ row.paymentDate | date:'dd/MM/yyyy' }}</td>
          <td class="px-6 py-3 text-right font-bold text-[#1F8DE9] bg-blue-50/30">{{ row.payment | number:'1.2-2' }}</td>
          <td class="px-6 py-3 text-right text-gray-600">{{ row.interest | number:'1.2-2' }}</td>
          <td class="px-6 py-3 text-right text-green-600 font-medium">{{ row.amortizacion | number:'1.2-2' }}</td>
          <td class="px-6 py-3 text-right text-gray-400">{{ (row.seguros + row.gastos) | number:'1.2-2' }}</td>
          <td class="px-6 py-3 text-right font-mono text-gray-800">{{ row.balance | number:'1.2-2' }}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div *ngIf="currentStep === 4" class="flex flex-col items-center justify-center py-20 bg-white rounded-xl shadow-sm border border-gray-200 animate-fade-in max-w-4xl mx-auto">

    <div *ngIf="!isSaved" class="flex flex-col items-center w-full max-w-md">
      <div class="w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mb-6 ring-8 ring-blue-50/50">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-[#1F8DE9]" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-gray-800 mb-3 text-center">Simulación Finalizada</h2>
      <p class="text-gray-500 text-center mb-10 leading-relaxed">
        La operación ha sido procesada exitosamente. Ahora puedes persistir los datos en el sistema y descargar el documento oficial.
      </p>

      <div class="flex flex-col sm:flex-row gap-4 w-full">
        <button (click)="saveToDatabase()" [disabled]="isSaving"
                class="flex-1 bg-[#1F8DE9] text-white px-6 py-3.5 rounded-xl font-bold shadow-lg hover:bg-blue-600 transition-all flex items-center justify-center gap-2 disabled:opacity-70 transform hover:-translate-y-1">
          <span *ngIf="isSaving" class="animate-pulse">Guardando...</span>
          <ng-container *ngIf="!isSaving">
            <span>Guardar en Base de Datos</span>
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4" />
            </svg>
          </ng-container>
        </button>

        <button (click)="downloadPDF()" class="flex-1 bg-white border-2 border-gray-200 text-gray-700 px-6 py-3.5 rounded-xl font-bold shadow-sm hover:bg-gray-50 hover:border-gray-300 flex items-center justify-center gap-2 transition-all">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l-3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
          </svg>
          Descargar PDF
        </button>
      </div>
    </div>

    <div *ngIf="isSaved" class="flex flex-col items-center animate-fade-in w-full max-w-md">
      <div class="w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mb-6 ring-8 ring-green-50">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
        </svg>
      </div>
      <h2 class="text-3xl font-bold text-gray-800 mb-2">¡Guardado Exitoso!</h2>
      <p class="text-gray-500 text-center mb-8">
        La simulación ha sido registrada correctamente en la base de datos.
      </p>

      <button (click)="resetSimulation()" class="text-[#1F8DE9] font-bold hover:text-blue-700 hover:underline transition-colors">
        Iniciar Nueva Simulación
      </button>
    </div>

  </div>

</div>
